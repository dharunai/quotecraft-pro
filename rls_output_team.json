[
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Authenticated users can manage team members",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "ALL",
    "qual": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Users can view own profile",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "SELECT",
    "qual": "(user_id = auth.uid())",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Users can view team members in same company",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "SELECT",
    "qual": "(company_id IN ( SELECT team_members_1.company_id\n   FROM team_members team_members_1\n  WHERE (team_members_1.user_id = auth.uid())))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Tenant Isolation Select team_members",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "SELECT",
    "qual": "(company_id = get_current_company_id())",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Tenant Isolation Insert team_members",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(company_id = get_current_company_id())"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Tenant Isolation Update team_members",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "UPDATE",
    "qual": "(company_id = get_current_company_id())",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "Tenant Isolation Delete team_members",
    "permissive": "PERMISSIVE",
    "roles": [
      "authenticated"
    ],
    "cmd": "DELETE",
    "qual": "(company_id = get_current_company_id())",
    "with_check": null
  }
]